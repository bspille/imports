<!DOCTYPE html>
<html>
    <head>
        <title>Benjamin Spille</title>
        <link rel="icon" type="image/png" href="./images/favicon">

        <!--import html partial here-->
        <link rel="import" href="./components/header.html">
        <link rel="import" href="./components/footer.html">
        <script>
            class Page {
                // initiate the class with a empty contsructor
                constructor(header, footer){
                    this.header = header;
                    this.footer = footer;
                }
                // setter method to set the header
                setHeader(header){
                    if(header !== null){
                        this.header = header;
                    }
                }
                // setter method to set the footer
                setFooter(footer){
                    if(footer !== null){
                        this.footer = footer;
                    }
                }
            }

            const index = new Page();

            const links = document.querySelectorAll('link[rel="import"]');
            links.forEach((link)=>{
                const content = link.import;
                console.log(content);

                // select the header 
                header = content.querySelector('header');
                // pass the header to the setter
                index.setHeader(header);

                // select the footer
                footer = content.querySelector('footer');
                // pass the footer to the setter
                index.setFooter(footer);
            })

            // log the new index after the setters have run
            console.log(index); 
            document.body.prepend(index.header);
            document.body.append(index.footer);
        </script>
    </head>
    <body>
        <div>
            hello world
        </div>
    </body>
</html>